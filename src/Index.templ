package main

import "fmt"

templ Index(allNote map[uint]string) {
	<!DOCTYPE html>
	<html>
	<head>
	<title>Notes</title>
	<link rel="stylesheet" href="/assets/ind.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body>
	
	<h1>Notes</h1><a href="/logout">logout</a>
		<form action="/add" method="post">
			<input class="textbox" type="text" name="note" placeholder="Note" maxlength="100" autofocus required> 
			<input class="btn" type="submit" value="add">
		</form>
		<table>
			<tr>
				<th>No.</th>
				<th colspan="2">Note</th>
			</tr>
				for k, v := range allNote {
					<tr>
						<td class="c-td">{fmt.Sprintf("%d", k)}</td> //replace k with number in Index.go
						<td class="full">{v}</td>
						<td class="c-td"> <a href={ templ.URL(fmt.Sprintf("/del?id=%d", k)) }>delete</a> <a href={ templ.URL(fmt.Sprintf("/edit?id=%d", k)) }>edit</a> </td>
					</tr>
				}
		</table>
	</body>
	</html> 
}

templ EnterPW() {
	<!DOCTYPE html>
	<html>
	<head>
	<title>Notes</title>
			<link rel="stylesheet" href="/assets/ind.css">
			<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body>
	<center>
		<form action="/varl" method="post">
			<input class="textbox" type="text" name="uname" placeholder="username" autofocus required></br> 
			<input class="textbox" type="password" name="passd" placeholder="password" required></br>
			<input class="btn" type="submit" value="login">
			<a href="/reg">sign up</a>
		</form>
	</center>
	</body>
	</html> 
}

templ Regis() {
	<!DOCTYPE html>
	<html>
	<head>
	<title>Notes</title>
			<link rel="stylesheet" href="/assets/ind.css">
			<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body>
	<center>
		<form action="/reg" method="post">
			<input class="textbox" type="text" name="uname" placeholder="username" autofocus required></br> 
			<input class="textbox" type="password" name="passd" placeholder="password" required></br>
			<input class="btn" type="submit" value="sign up">
		</form>
	</center>
	</body>
	</html> 
}

templ Redirect(url string) {
	<!DOCTYPE html>
	<html>
	<head>
			<link rel="stylesheet" href="/assets/ind.css">
			<meta http-equiv="refresh" content={ fmt.Sprintf("0; url=%s", url) }>
	</head>
	<body>
		<a href={ templ.URL(url) }>redirect in a sec</a>
	</body>
	</html>
}

templ EditNote(id string, note string) {
	<!DOCTYPE html>
	<html>
	<head>
	<title>Notes</title>
		<link rel="stylesheet" href="/assets/ind.css">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body>
	
		<form action={ templ.URL(fmt.Sprintf("/edit?id="+id)) } method="post">
			<input class="textbox" value={note} type="text" name="note" placeholder="Note" maxlength="100" autofocus required> 
			<input class="btn" type="submit" value="update">
		</form>
	</body>
	</html> 
}
